- 동시성 코드를 위한 테스트 작성
- 에지 케이스 찾기
- 코루틴을 위한 디버깅 설정 활성화
- 코루틴 디버깅을 위한 로그와 브레이크 포인트 사용
- 테스트와 디버깅에 대한 일반적인 조언

## 동시성 코드 테스트

## 가정을 버려라

- db, 캐시, 외부에서 갖고오는 작업을 동시성으로 처리하는 경우에 평균적 속도를 통하여 빠른 친구들은 먼저 데이터 처리가 완료 되었을 것이라고 가정하고서 코드를 작성한다. 이를 버리자..
- 어떤 가정에도 도전할 수 있는 테스트를 해야 한다.

## 나무가 아닌 숲에 집중하자

- 실제로 db가 외부 애플리케이션보다 더 오래 걸리고 불완전하며 누락된 정보가 있을 때 무슨 일이 발생하는지 테스트해야 하며, 그것들 중 딱 하나에서만 정보를 가져온다면 무슨 일이 생기는지 테스트해야 한다.

## 기능 테스트 작성

- 일반적으로 이러한 유형의 테스트를 기능 테스트라고 한다. 이것은 함수와 같이 작은 코드 단위를 테스트하지 않고 기능의 전체 동작을 테스트한다는 점에서 단위 테스트와는 다르다.

## 테스트에 대한 추가 조언

- 버그 수정은 시나리오를 커버하는 테스트와 함께 수반돼야 한다.
- 동시성 버그가 애플리케이션의 다른 부분에 어떠한 방법으로 영향을 줄 것인지 항상 생각해야 한다.
- 동시성 작업을 위해 모든 값을 차례로 하는 테스트를 하지 말아야 한다. → 테스트의 목적은 모든 시나리오를 다루려는 것이 아니며 문제를 야기할 수 있는 값을 추가하면서 가정에 도전하는 시나리오를 찾는 것이다.
- 복원력을 위한 테스트를 해야 한다.
- 에지 케이스를 찾기 위해서 커버리지 보고서에서 분기 분석을 사용하자
- 단위 테스트와 기능 테스트를 작성하는 시점에 대해 알자.
- 인터페이스를 사용해 종석성을 연결하자